# TTS νμΌ μƒμ„± μ ν‹Έλ¦¬ν‹°

ν…μ¤νΈλ¥Ό TTSλ΅ λ³€ν™ν•μ—¬ wav νμΌλ΅ μ €μ¥ν•λ” μ ν‹Έλ¦¬ν‹°μ…λ‹λ‹¤.

μ΄ μ ν‹Έλ¦¬ν‹°λ” `src/ai-voice/config/.env` νμΌμ μ„¤μ •μ„ μλ™μΌλ΅ μ‚¬μ©ν•©λ‹λ‹¤.  
(SuperTone API ν‚¤μ™€ Voice ID λ“±)

**κΈ°λ³Έ μ¶λ ¥ μ„μΉ:** `src/ai-voice/utils/audio/`

## μ‚¬μ© λ°©λ²•

### 1. JSON νμΌμ—μ„ λ‹µλ³€ λ¦¬μ¤νΈ λ³€ν™

JSON νμΌμ— μ‘μ„±λ λ‹µλ³€ λ¦¬μ¤νΈλ¥Ό λ¨λ‘ TTSλ΅ λ³€ν™ν•©λ‹λ‹¤.

```bash
python3 src/ai-voice/utils/tts_gen.py --file input.json
```

**JSON νμΌ ν•μ‹:**

λ°°μ—΄ ν•μ‹ (κ¶μ¥):

```json
[
    "μΆ‹μ€ μ•„μΉ¨! μ–΄μ  λ¬Ό μ¤μ„ μ¤λ μ»¨λ””μ… μµκ³ μ•Ό. μ¤λλ„ νλ‚΄!",
    "μ λ‹¤λ…€μ™”μ–΄? λ„λ¬΄ λ³΄κ³  μ‹¶μ—μ–΄~",
    "μ”μ¦ λ§μ΄ νλ“¤κµ¬λ‚.."
]
```

λλ” κ°μ²΄ ν•μ‹:

```json
{
    "answers": [
        "μΆ‹μ€ μ•„μΉ¨! μ–΄μ  λ¬Ό μ¤μ„ μ¤λ μ»¨λ””μ… μµκ³ μ•Ό. μ¤λλ„ νλ‚΄!",
        "μ λ‹¤λ…€μ™”μ–΄? λ„λ¬΄ λ³΄κ³  μ‹¶μ—μ–΄~",
        "μ”μ¦ λ§μ΄ νλ“¤κµ¬λ‚.."
    ]
}
```

**μ¶λ ¥ νμΌ:**

-   `utils/audio/a_01.wav` - μ²« λ²μ§Έ λ‹µλ³€
-   `utils/audio/a_02.wav` - λ‘ λ²μ§Έ λ‹µλ³€
-   `utils/audio/a_03.wav` - μ„Έ λ²μ§Έ λ‹µλ³€
-   ...

**μμ‹:**

```bash
# κΈ°λ³Έ λ””λ ‰ν† λ¦¬μ— μ €μ¥
python3 src/ai-voice/utils/tts_gen.py --file input.json

# μ§€μ •ν• λ””λ ‰ν† λ¦¬μ— μ €μ¥
python3 src/ai-voice/utils/tts_gen.py --file input.json --output my_audio
```

μμ‹ JSON νμΌμ€ `input_example.json`μ„ μ°Έκ³ ν•μ„Έμ”.

### 2. λ‹¨μΌ ν…μ¤νΈ λ³€ν™

ν•λ‚μ ν…μ¤νΈλ§ TTSλ΅ λ³€ν™ν•  λ• μ‚¬μ©ν•©λ‹λ‹¤.

```bash
python3 src/ai-voice/utils/tts_gen.py --text "μ•λ…•ν•μ„Έμ”" --filename hello.wav
```

**μµμ…:**

-   `--text "ν…μ¤νΈ"`: λ³€ν™ν•  ν…μ¤νΈ
-   `--filename "νμΌλ….wav"`: μ €μ¥ν•  νμΌλ… (μ„ νƒμ‚¬ν•­, μ—†μΌλ©΄ μλ™ μƒμ„±)
-   `--output "λ””λ ‰ν† λ¦¬"`: μ¶λ ¥ λ””λ ‰ν† λ¦¬ (κΈ°λ³Έκ°’: `utils/audio`)

**μμ‹:**

```bash
# κΈ°λ³Έ λ””λ ‰ν† λ¦¬μ— μ €μ¥ (νμΌλ… μλ™ μƒμ„±)
python3 src/ai-voice/utils/tts_gen.py --text "μΆ‹μ€ μ•„μΉ¨μ…λ‹λ‹¤"

# μ§€μ •ν• νμΌλ…μΌλ΅ μ €μ¥
python3 src/ai-voice/utils/tts_gen.py --text "μ•λ…•ν•μ„Έμ”" --filename greeting.wav

# μ§€μ •ν• λ””λ ‰ν† λ¦¬μ— μ €μ¥
python3 src/ai-voice/utils/tts_gen.py --text "μ•λ…•ν•μ„Έμ”" --output custom_dir --filename greeting.wav
```

**νμΌλ… μλ™ μƒμ„± κ·μΉ™:**

-   νμΌλ…μ„ μ§€μ •ν•μ§€ μ•μΌλ©΄ ν…μ¤νΈμ μ²« 20μλ¥Ό μ‚¬μ©ν•΄ μλ™ μƒμ„±
-   ν•κΈ€, νΉμλ¬Έμλ” μ–Έλ”μ¤μ½”μ–΄(`_`)λ΅ λ³€ν™
-   μλ¬Έμ, μ«μ, ν•μ΄ν”, μ–Έλ”μ¤μ½”μ–΄λ§ μ μ§€
-   κ³µλ°±μ€ μ–Έλ”μ¤μ½”μ–΄λ΅ λ³€ν™
-   μ: "μΆ‹μ€ μ•„μΉ¨μ…λ‹λ‹¤" β†’ `____.wav` (ν•κΈ€μ΄ λ¨λ‘ μ–Έλ”μ¤μ½”μ–΄λ΅ λ³€ν™λ¨)

### 3. μΈν„°λ™ν‹°λΈ λ¨λ“

μµμ… μ—†μ΄ μ‹¤ν–‰ν•λ©΄ λ€ν™”ν•μΌλ΅ μ—¬λ¬ ν…μ¤νΈλ¥Ό λ³€ν™ν•  μ μμµλ‹λ‹¤.

```bash
python3 src/ai-voice/utils/tts_gen.py
```

μ‹¤ν–‰ ν›„:

1. μ¶λ ¥ λ””λ ‰ν† λ¦¬ μ…λ ¥ (μ—”ν„°: κΈ°λ³Έκ°’ `utils/audio`)
2. λ³€ν™ν•  ν…μ¤νΈ μ…λ ¥
3. νμΌλ… μ…λ ¥ (μ—”ν„°: μλ™ μƒμ„±)
4. λ°λ³µν•κ±°λ‚ `quit` μ…λ ¥ν•μ—¬ μΆ…λ£

## TTS νλΌλ―Έν„°

ν„μ¬ μ½”λ“μ™€ λ™μΌν• νλΌλ―Έν„°λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤.

### κΈ°λ³Έ νλΌλ―Έν„° (μΌλ° λ€ν™”)

-   `language`: "ko" (ν•κµ­μ–΄)
-   `style`: "neutral" (μ¤‘λ¦½)
-   `pitch_shift`: 0 (μλ†’μ΄ μ΅°μ • μ—†μ)
-   `speed`: 1 (κΈ°λ³Έ μ†λ„)
-   `pitch_variance`: 1 (κΈ°λ³Έ λ³€λ™μ„±)

### μ¬ν” ν†¤ νλΌλ―Έν„°

λ‹µλ³€μ— μ¬ν” ν‚¤μ›λ“κ°€ κ°μ§€λλ©΄ μλ™μΌλ΅ μ¬ν” ν†¤μΌλ΅ λ³€κ²½λ©λ‹λ‹¤.

-   `style`: "sad" (μ¬ν””)
-   `pitch_shift`: -10 (μλ†’μ΄ λ‚®μ¶¤)

**μ¬ν” ν‚¤μ›λ“:** νλ“¤, μ¬ν”„, μ•„ν””, μ°μΈ, μ£½κ³ , μ λ§

## μ»¤μ¤ν„°λ§μ΄μ§•

### μ‚¬μ©μ μ •μ λ‹µλ³€ μ¶”κ°€

`input.json` νμΌμ„ μƒμ„±ν•μ—¬ μμ‹ λ§μ λ‹µλ³€μ„ μ¶”κ°€ν•  μ μμµλ‹λ‹¤.

```json
["ν„μ¬ μ¨λ„λ” 23.5λ„μ•Ό. μ λ‹Ήν• μ¨λ„μμ”!", "μ”μ¦ λ§μ΄ νλ“¤κµ¬λ‚..", "μΆ‹μ€ μ•„μΉ¨!"]
```

μ¬ν” ν‚¤μ›λ“κ°€ ν¬ν•¨λ λ‹µλ³€μ€ μλ™μΌλ΅ μ¬ν” ν†¤μΌλ΅ λ³€ν™λ©λ‹λ‹¤.

### νλΌλ―Έν„° μ»¤μ¤ν„°λ§μ΄μ§•

νμΌ λ‚΄μ `DEFAULT_PARAMS`μ™€ `SAD_PARAMS`λ¥Ό μμ •ν•μ—¬ TTS νλΌλ―Έν„°λ¥Ό λ³€κ²½ν•  μ μμµλ‹λ‹¤.

```python
DEFAULT_PARAMS = {
    "language": "ko",
    "style": "neutral",
    "pitch_shift": 0,
    "speed": 1,
    "pitch_variance": 1,
}
```

## νμΌ κµ¬μ΅°

```
src/ai-voice/
β”β”€β”€ utils/
β”‚   β”β”€β”€ tts_gen.py           # TTS νμΌ μƒμ„± μ ν‹Έλ¦¬ν‹°
β”‚   β”β”€β”€ input_example.json   # JSON νμΌ μμ‹
β”‚   β””β”€β”€ README.md            # μ΄ νμΌ
β”β”€β”€ config/
β”‚   β””β”€β”€ .env                 # ν™κ²½ λ³€μ μ„¤μ • (ν•„μ)
β””β”€β”€ tts/
    β””β”€β”€ superton_tts.py      # SuperTone TTS ν΄λμ¤
```

## λ¬Έμ  ν•΄κ²°

### 1. "SupertonTTSλ¥Ό importν•  μ μ—†μµλ‹λ‹¤" μ¤λ¥

**μ›μΈ:** `tts/superton_tts.py` νμΌμ„ μ°Ύμ„ μ μ—†μµλ‹λ‹¤.

**ν•΄κ²°:**

-   `src/ai-voice/tts/superton_tts.py` νμΌμ΄ μ΅΄μ¬ν•λ”μ§€ ν™•μΈ
-   `src/ai-voice/utils/tts_gen.py`λ¥Ό `src/ai-voice/` λ””λ ‰ν† λ¦¬μ—μ„ μ‹¤ν–‰

```bash
cd src/ai-voice
python3 utils/tts_gen.py --file utils/input.json
```

### 2. "SUPERTON_API_KEYκ°€ μ„¤μ •λμ§€ μ•μ•μµλ‹λ‹¤" μ¤λ¥

**μ›μΈ:** `config/.env` νμΌμ— API ν‚¤κ°€ μ„¤μ •λμ§€ μ•μ•μµλ‹λ‹¤.

**ν•΄κ²°:** `src/ai-voice/config/.env` νμΌμ— `SUPERTON_API_KEY`μ™€ `SUPERTON_VOICE_ID`κ°€ μ¬λ°”λ¥΄κ² μ„¤μ •λμ–΄ μλ”μ§€ ν™•μΈν•μ„Έμ”.

### 3. TTS μƒμ„± μ‹¤ν¨

**μ›μΈ:**

-   API ν‚¤κ°€ μλ»λμ—κ±°λ‚ λ§λ£λ¨
-   λ„¤νΈμ›ν¬ μ—°κ²° λ¬Έμ 
-   SuperTone API μ„λ²„ μ¤λ¥

**ν•΄κ²°:**

-   API ν‚¤ ν™•μΈ λ° μ¬λ°κΈ‰
-   λ„¤νΈμ›ν¬ μ—°κ²° ν™•μΈ
-   SuperTone API μƒνƒ ν™•μΈ

## μμ‹ μ¶λ ¥

```
π¬ TTS νμΌ μƒμ„± μ‹μ‘...

π“ μ¶λ ¥ λ””λ ‰ν† λ¦¬: /path/to/utils/audio

[1/3] μ²λ¦¬ μ¤‘...
π“ ν…μ¤νΈ: μΆ‹μ€ μ•„μΉ¨! μ–΄μ  λ¬Ό μ¤μ„ μ¤λ μ»¨λ””μ… μµκ³ μ•Ό. μ¤λλ„ νλ‚΄!
π¤ TTS μƒμ„± μ¤‘... β… μ™„λ£ (28.7 KB)
π’Ύ μ €μ¥λ¨: src/ai-voice/utils/audio/a_01.wav

[2/3] μ²λ¦¬ μ¤‘...
π“ ν…μ¤νΈ: μ λ‹¤λ…€μ™”μ–΄? λ„λ¬΄ λ³΄κ³  μ‹¶μ—μ–΄~
π¤ TTS μƒμ„± μ¤‘... β… μ™„λ£ (22.4 KB)
π’Ύ μ €μ¥λ¨: src/ai-voice/utils/audio/a_02.wav

[3/3] μ²λ¦¬ μ¤‘...
π“ ν…μ¤νΈ: μ”μ¦ λ§μ΄ νλ“¤κµ¬λ‚..
   π“ μ¬ν” ν†¤μΌλ΅ λ³€κ²½
π¤ TTS μƒμ„± μ¤‘... β… μ™„λ£ (18.9 KB)
π’Ύ μ €μ¥λ¨: src/ai-voice/utils/audio/a_03.wav

β… μ΄ 3κ° νμΌ μƒμ„± μ™„λ£!
```

## λΌμ΄μ„ μ¤

μ΄ ν”„λ΅μ νΈμ™€ λ™μΌν• λΌμ΄μ„ μ¤λ¥Ό λ”°λ¦…λ‹λ‹¤.
